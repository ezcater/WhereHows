{{#if getContainerDataTask.last.isError}}

  {{empty-state heading="An error occurred getting this dataset's compliance policy"}}

{{else}}

  {{#if complianceInfo.fromUpstream}}
    {{datasets/containers/upstream-dataset upstreamUrn=complianceInfo.datasetUrn}}
  {{/if}}

  {{#if getContainerDataTask.isRunning}}

    <div class="compliance-container__loading">
      {{pendulum-ellipsis-animation}}
    </div>

  {{else}}

    {{#if isCompliancePurgePolicyAutoGenerated}}
      <div class="compliance-container__default-purge-policy">
        <i class="fa fa-info-circle"></i>
        <header class="compliance-container__default-purge-policy__title">
          Please note: The default Purge Policy for this dataset is system generated
        </header>
      </div>
    {{/if}}

    {{dataset-compliance
      datasetName=datasetName
      schemaless=schemaless
      platform=platform
      complianceInfo=complianceInfo
      complianceSuggestion=complianceSuggestion
      isNewComplianceInfo=isNewComplianceInfo
      schemaFieldNamesMappedToDataTypes=schemaFieldNamesMappedToDataTypes
      complianceDataTypes=complianceDataTypes
      onSave=(action "savePrivacyCompliancePolicy")
      onReset=(action "resetPrivacyCompliancePolicy")
    }}

  {{/if}}

{{/if}}
